"use strict";angular.module("tomliApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).when("/movies",{templateUrl:"views/movies.html",controller:"MovielistCtrl"}).when("/movies/:movieId",{templateUrl:"views/movie-detail.html",controller:"MoviedetailCtrl"}).when("/comingsoon",{templateUrl:"views/comingsoon.html",controller:"ComingsoonCtrl"}).when("/theaters",{templateUrl:"views/theaters.html",controller:"TheatersCtrl"}).when("/admin/dashboard",{templateUrl:"views/admin/index.html",controller:"DashboardCtrl"}).when("/admin/movies",{templateUrl:"views/admin/movies.html",controller:"AdminMoviesCtrl"}).when("/admin/movies/:movieId",{templateUrl:"views/admin/admin-movie-detail.html",controller:"AdminMovieDetailCtrl"}).when("/admin/theaters",{templateUrl:"views/admin/movies.html",controller:"AdminCtrl"}).when("/admin/theaters/:theaterId",{templateUrl:"views/admin/theaterDetail.html",controller:"AdminCtrl"}).when("/admin/presentations",{templateUrl:"views/admin/theaters.html",controller:"AdminCtrl"}).otherwise({redirectTo:"/"})}]),$(document).ready(function(){$("#trailer-wrapper").fitVids(),$(document).on("click",".yamm .dropdown-menu",function(a){a.stopPropagation()})}),angular.module("tomliApp").controller("MainCtrl",["$scope","$routeParams","$http",function(a,b,c){c.get("movies/movies.json").success(function(b){a.movies=b.splice(0,6)}),c.get("movies/comingsoon.json").success(function(b){a.comingsoon=b.splice(0,6)}),c.get("movies/movies.json").success(function(b){a.posts=b.splice(0,2)})}]).directive("blogCarousel",[function(){return{restrict:"E",templateUrl:"views/widgets/carousel.html"}}]),angular.module("tomliApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("tomliApp").controller("NavCtrl",["$scope","$location",function(a,b){a.movies=[{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"Teenage Mutant Ninja Turtles",imgUrl:"images/tnmt.jpg"},{title:"Planes 2",imgUrl:"images/planes-2.jpg"},{title:"If I Stay",imgUrl:"images/if-i-stay.jpg"},{title:"Maleficent",imgUrl:"images/maleficent.jpg"},{title:"Guardians Of the Galaxy",imgUrl:"images/gotg.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"}].splice(0,6),a.comingsoon=[{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"Teenage Mutant Ninja Turtles",imgUrl:"images/tnmt.jpg"},{title:"Planes 2",imgUrl:"images/planes-2.jpg"},{title:"If I Stay",imgUrl:"images/if-i-stay.jpg"},{title:"Maleficent",imgUrl:"images/maleficent.jpg"},{title:"Guardians Of the Galaxy",imgUrl:"images/gotg.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"},{title:"edge of tomorrow",imgUrl:"images/edge-of-tomorrow.jpg"}].splice(0,6),a.isActive=function(a){return a===b.path()}}]).directive("mainNavigation",[function(){return{restrict:"E",templateUrl:"views/widgets/navigation.html",controller:"NavCtrl"}}]),angular.module("tomliApp").controller("ContactCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("tomliApp").controller("MovielistCtrl",["$scope","Movie",function(a,b){a.movies=b.query()}]),angular.module("tomliApp").controller("MoviedetailCtrl",["$scope","$routeParams","$sce","Movie",function(a,b,c,d){a.movie=d.get({movieId:b.movieId},function(){a.heroImage={"background-image":"url("+a.movie.imgUrl+")"},null!=a.movie.trailer&&(a.trailer=c.trustAsResourceUrl(a.movie.trailer+"?controls=0&modestbranding=1&rel=0&showinfo=0&theme=light"))})}]),angular.module("tomliApp").controller("ComingsoonCtrl",["$scope","$http",function(a,b){b.get("movies/comingsoon.json",function(b){a.comingsoon=b})}]),angular.module("tomliApp").factory("Movie",["$resource",function(a){return a("movies/:movieId.json",{},{query:{method:"GET",params:{movieId:"movies"},isArray:!0}})}]),angular.module("tomliApp").controller("TheatersCtrl",["$scope","Theater",function(a,b){a.theaters=b.query()}]),angular.module("tomliApp").factory("Theater",["$resource",function(a){return a("theaters/:theaterId.json",{},{query:{method:"GET",params:{theaterId:"theaters"},isArray:!0}})}]),angular.module("tomliApp").directive("headerMenu",function(){var a=!0,b="views/admin-header-menu.html",c="views/header-menu.html";return{restrict:"E",templateUrl:a===!0?b:c}}),angular.module("tomliApp").directive("tomliFooter",function(){return{templateUrl:"views/footer.html",restrict:"E"}}),angular.module("tomliApp").controller("AdminMoviesCtrl",["$scope","$http","Movie",function(a,b,c){a.movies=c.query(),a.create=function(c){b.post("/movies/create",c).success(function(){a.result="Movie Added!"}).error(function(b,c){a.result="There was an error with your request with status:"+c})}}]);